(()=>{var t={877:(t,e,i)=>{var r=i(570),s=i(171),o=s;o.v1=r,o.v4=s,t.exports=o},327:t=>{for(var e=[],i=0;i<256;++i)e[i]=(i+256).toString(16).substr(1);t.exports=function(t,i){var r=i||0,s=e;return[s[t[r++]],s[t[r++]],s[t[r++]],s[t[r++]],"-",s[t[r++]],s[t[r++]],"-",s[t[r++]],s[t[r++]],"-",s[t[r++]],s[t[r++]],"-",s[t[r++]],s[t[r++]],s[t[r++]],s[t[r++]],s[t[r++]],s[t[r++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var i=new Uint8Array(16);t.exports=function(){return e(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},570:(t,e,i)=>{var r,s,o=i(217),n=i(327),a=0,d=0;t.exports=function(t,e,i){var h=e&&i||0,c=e||[],l=(t=t||{}).node||r,u=void 0!==t.clockseq?t.clockseq:s;if(null==l||null==u){var g=o();null==l&&(l=r=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==u&&(u=s=16383&(g[6]<<8|g[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:d+1,b=p-a+(v-d)/1e4;if(b<0&&void 0===t.clockseq&&(u=u+1&16383),(b<0||p>a)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,d=v,s=u;var _=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;c[h++]=_>>>24&255,c[h++]=_>>>16&255,c[h++]=_>>>8&255,c[h++]=255&_;var w=p/4294967296*1e4&268435455;c[h++]=w>>>8&255,c[h++]=255&w,c[h++]=w>>>24&15|16,c[h++]=w>>>16&255,c[h++]=u>>>8|128,c[h++]=255&u;for(var f=0;f<6;++f)c[h+f]=l[f];return e||n(c)}},171:(t,e,i)=>{var r=i(217),s=i(327);t.exports=function(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var n=(t=t||{}).random||(t.rng||r)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var a=0;a<16;++a)e[o+a]=n[a];return e||s(n)}}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,i),o.exports}(()=>{"use strict";class t{get borderWidth(){return this._borderWidth}set borderWidth(t){this._borderWidth=t}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t}get borderStyle(){return this._borderStyle}set borderStyle(t){this._borderStyle=t}get borderRadius(){return this._borderRadius}set borderRadius(t){this._borderRadius=t}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t}get attributes(){return{borderColor:this.borderColor,borderRadius:this.borderRadius,borderStyle:this.borderStyle,borderWidth:this.borderWidth,backgroundColor:this.backgroundColor,zIndex:this.zIndex}}constructor(t="white",e="black",i="0px",r="solid",s=0,o="1px"){this._backgroundColor=t,this._borderColor=e,this._borderRadius=i,this._borderStyle=r,this._zIndex=s,this._borderWidth=o}}class e extends t{constructor(){super(),this.borderRadius="10% 25%"}}var r=i(877);class s{constructor(t=(0,r.v4)(),i=new e,s,o=2,n=2,a=1,d=1,h="<div></div>",c){this._id=t,this._shape=i,this._click=s,this._width=o,this._height=n,this._locationTop=a,this._locationLeft=d,this._content=h,this._canvas=c}get click(){return this._click}set click(t){this._click=t}get canvas(){return this._canvas}set canvas(t){this._canvas=t}get content(){return this._content}set content(t){this._content=t}get locationLeft(){return this._locationLeft}set locationLeft(t){this._locationLeft=t}get locationTop(){return this._locationTop}set locationTop(t){this._locationTop=t}get height(){return this._height}set height(t){this._height=t}get width(){return this._width}set width(t){this._width=t}get shape(){return this._shape}set shape(t){this._shape=t}get id(){return this._id}set id(t){this._id=t}}class o{constructor(t){this._widget=t,this._widget.click=this}get widget(){return this._widget}setClick(){throw new Error("Method not implemented")}}const n=new class{constructor(t,e={}){this.parent=t,this._state=e,this._widgets=[],this.parent.innerHTML="",this.parent.id="canvas",Object.assign(this.parent.style,{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"repeat(12, 1fr)",height:"100vh",columnGap:"5px",rowGap:"5px",aspectRatio:"1 / 1"})}get widgets(){return this._widgets}set widgets(t){this.widgets=t}get state(){return this._state}set state(t){this._state=Object.assign(Object.assign({},this._state),t),this.rerender()}addWidget(t){this.widgets.push(t),t.canvas=this,this.render()}removeWidget(t){this.widgets=this.widgets.filter((e=>e.id!==t.id))}render(){this.parent.innerHTML="";for(const t of this.widgets)this.buildWidget(t)}rerender(){for(const t of this.widgets){let e=document.getElementById(t.id);this.injectVars(t,e)&&this.buildWidget(t)}}injectVars(t,e){let i,r=!1;for(i in e.innerHTML=t.content,this.state)e.innerHTML.includes(`{{${i}}}`)&&(e.innerHTML=e.innerHTML.split(`{{${i}}}`).join(this.state[i]),r=!0);return r}buildWidget(t){var e;const i=this.initializeDiv(t);this.buildShape(t,i),this.injectVars(t,i),this.placeShape(t,i),this.parent.append(i),null===(e=t.click)||void 0===e||e.setClick()}initializeDiv(t){const e=document.createElement("div");return e.id=t.id,Object.assign(e.style,{margin:"auto",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",alignContent:"center",padding:"3%",aspectRatio:"1 / 1"}),e}buildShape(t,e){Object.assign(e.style,t.shape.attributes)}placeShape(t,e){const i={gridArea:t.locationTop.toString(),gridColumnStart:t.locationTop.toString(),gridColumnEnd:"span "+t.width,gridRowStart:t.locationLeft.toString(),gridRowEnd:"span "+t.height};Object.assign(e.style,i)}}(document.body),a=new class extends t{constructor(){super(),this.borderRadius="25% 10%"}},d=new e;n.state={testVar:"Sean is handsome",var2:"Brian is beautiful"};const h=new s;h.shape=a,h.locationLeft=5,h.locationTop=7,h.height=5,h.content="<h1>OOP RULES</h1> {{testVar}} {{var2}}",n.addWidget(h);const c=new s;c.shape=d,c.locationLeft=3,c.locationTop=4,c.shape.borderColor="red",c.shape.zIndex=99,c.content='<img style="height:auto; max-width:80%;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/LEGO_logo.svg/1000px-LEGO_logo.svg.png">',n.addWidget(c);const l=new s;l.shape=new class extends t{constructor(){super(),this.borderRadius="50%"}},l.locationTop=4,l.locationLeft=4,new class extends o{constructor(t,e){super(t),this._callback=e}setClick(){const t=document.getElementById(this.widget.id);null!==t&&t.addEventListener("click",(t=>{this._callback(t,this.widget)}))}}(l,((t,e)=>{var i,r;let s=null===(i=e.canvas)||void 0===i?void 0:i.widgets;for(const t of s)t.width+=2,t.height+=2,t.canvas.state={testVar:"Sean is a Smarty Pants"},null===(r=t.canvas)||void 0===r||r.render(),setTimeout((()=>{var e;t.width-=2,t.height-=2,null===(e=t.canvas)||void 0===e||e.render()}),1e3)})),n.addWidget(l)})()})();